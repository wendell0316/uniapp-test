var e,t,n,o,r,a,i,s,l,c,u,f,d,g,p,m,h,y;!function(e){e.formValueChange="formValueChange",e.submit="submit",e.submitStarted="submit-started",e.submitCompleted="submit-completed",e.expanded="expanded",e.shown="shown",e.close="close",e.hidden="hidden",e.cancel="cancel",e.error="error",e.refuse="refuse",e.openSurveyLink="open-survey-link",e.destroy="destroy",e.ready="ready",e.screenshotselecting="screenshotselecting",e.screenshotclosed="screenshotclosed",e.progress="progress"}(e||(e={})),function(e){e.destroy="destroy",e.open="open"}(t||(t={})),function(e){e.Desktop="desktop",e.Mobile="mobile",e.Tablet="tablet",e.Auto="auto"}(n||(n={})),function(e){e[e.Web=1]="Web",e[e.NativeWebview=2]="NativeWebview",e[e.Electron=3]="Electron"}(o||(o={})),function(e){e.PlatformEnv="platform-env",e.SurveyType="survey-type",e.I18nLabels="i18n-labels",e.RootDispatch="root-dispatch",e.IsPreview="is-preview",e.FormStyleSettings="form-style-settings",e.Theme="theme",e.ScreenshotType="ScreenshotType"}(r||(r={})),function(e){e[e.PlainText=10]="PlainText",e[e.ShortAnswer=1]="ShortAnswer",e[e.SingleSelect=2]="SingleSelect",e[e.MultiSelect=3]="MultiSelect",e[e.Rating=4]="Rating",e[e.Scale=5]="Scale",e[e.TrueOrFalse=6]="TrueOrFalse",e[e.MatrixSelect=7]="MatrixSelect"}(a||(a={})),function(e){e.Direct="direct",e.Expandable="expandable"}(i||(i={})),function(e){e[e.Page=0]="Page",e[e.Btn=1]="Btn"}(s||(s={})),function(e){e.Dialog="dialog",e.Popover="popover"}(l||(l={})),function(e){e.DesktopNormal="desktop-normal",e.DesktopCenter="desktop-center",e.MobileCenter="mobile-center",e.MobileBottom="mobile-bottom",e.MobileBottomPopover="mobile-bottom-popover"}(c||(c={})),function(e){e[e.Circle=1]="Circle",e[e.Square=2]="Square",e[e.QueationnaireWithWords=3]="QueationnaireWithWords",e[e.Queationnaire=4]="Queationnaire",e[e.Note=5]="Note",e[e.EnvelopeWithAwards=6]="EnvelopeWithAwards",e[e.OneColSquare=7]="OneColSquare"}(u||(u={})),function(e){e.Left="left",e.Right="right",e.Center="center",e.Top="top",e.Bottom="bottom",e.Middle="middle"}(f||(f={})),function(e){e.Entry="athena-survey-entry",e.EntryInner="athena-survey-entry__inner",e.EntryExpanded="athena-survey-entry__expanded",e.EntryMsgIcon="athena-survey-entry__icon--msg",e.EntryCloseIcon="athena-survey-entry__icon--close",e.EntryLabel="athena-survey-entry__label",e.Widget="athena-survey-widget",e.Form="athena-form",e.WidgetHasBanner="athena-has-banner",e.WidgetBanner="athena-widget-banner",e.WidgetMask="athena-widget-mask",e.WidgetFirstExpand="athena-widget-first-expand",e.WidgetHasMaxHeight="athena-has-max-height",e.WidgetIsNps="athena-survey-nps",e.WidgetIsRating="athena-survey-rating"}(d||(d={})),function(e){e.Emoji="emoji",e.Star="star",e.Number="number",e.Select="select"}(g||(g={})),function(e){e.Thumb="thumb",e.Face="face",e.Text="text"}(p||(p={})),function(e){e.Normal="normal",e.Tag="tag"}(m||(m={})),function(e){e.TaskShow="survey_show_cnt",e.TaskExpand="survey_expand_cnt"}(h||(h={})),function(e){e.CN="cn",e.VA="va",e.SG="sg",e.IN="in"}(y||(y={}));var v,b,_={[y.CN]:"https://api.feelgood.cn/athena",[y.SG]:"https://feelgood-api.tiktok.com/athena",[y.VA]:"https://feelgood-api.tiktok.com/athena",[y.IN]:"https://feelgood-api-useast2a.tiktok.com/athena"},k={[y.CN]:"https://survey.feelgood.cn/s",[y.SG]:"https://ads.tiktok.com/athena/survey/survey-entry",[y.VA]:"https://ads.tiktok.com/athena/survey/survey-entry",[y.IN]:"https://ads-useast2a.tiktok.com/athena/survey/survey-entry"};!function(e){e.zhCN="zh_CN",e.zhHK="zh_HK",e.jaJP="ja_JP",e.koKR="ko_KR"}(v||(v={})),function(e){e.LTR="ltr",e.RTL="rtl"}(b||(b={}));var w,x,S,A,T,E=(()=>{if("undefined"==typeof navigator)return v.zhCN;var e=(navigator.languages?navigator.languages[0]:navigator.language)||"";return"zh"===e&&(e=v.zhCN),(e=e.replace("-","_"))||v.zhCN})();!function(e){e[e.No=0]="No",e[e.Yes=1]="Yes"}(w||(w={})),function(e){e[e.DoNotShowAgain=0]="DoNotShowAgain",e[e.IDontKnow=1]="IDontKnow",e[e.Customize=2]="Customize"}(x||(x={})),function(e){e[e.SystemDefault=0]="SystemDefault",e[e.Custom=1]="Custom"}(S||(S={})),function(e){e[e.Embedded=100]="Embedded",e[e.StandAlone=200]="StandAlone",e[e.StandAloneWithEntry=201]="StandAloneWithEntry"}(A||(A={})),function(e){e[e.Offline=1]="Offline",e[e.Online=2]="Online",e[e.Deleted=3]="Deleted"}(T||(T={}));var j,C,O,$,N,L,M,I,B,P,F,D,q,R,z,W,V,Y,H,X,G,K=["screen_shot_banner","thankyou","thankyou_rich_text","thankyou_comment","thankyou_comment_rich_text","submit_btn","cancel_btn","title","title_rich_text","subtitle","subtitle_rich_text","entry_btn","request_error","please_enter","required_field_hint","offline_message","task_has_expired","incomplete_formdata","no_empty_answer","do_not_show_again","i_dont_know","block_btn_text","redirect_to_lottery","default_scale_negative","default_scale_positive","rate_1","rate_2","rate_3","rate_4","rate_5","screen_shot_icon_tooltip","screen_shot_upload","screen_shot_capture","screen_shot_tip_limit","screen_shot_size_limit","redirect_after_$_seconds","entry_label_custom","entry_label_feedback","entry_label_reward_survey","err_msg_phone","err_msg_email"];!function(e){e.PV="page_view",e.TimeOnPage="exposure_duration",e.SessionTimeOnPage="session_exposure_duration",e.ElementExposureDuration="btn_exposure_duration",e.ElementShowCnt="btn_show_cnt",e.ElementHoverCnt="btn_hover_cnt",e.ElementClickCnt="btn_click_cnt"}(j||(j={})),function(e){e[e.Or=0]="Or",e[e.And=1]="And"}(C||(C={})),function(e){e[e.Greater=0]="Greater",e[e.Equal=1]="Equal",e[e.Smaller=2]="Smaller",e[e.GreaterOrEqual=3]="GreaterOrEqual",e[e.SmallerOrEqual=4]="SmallerOrEqual",e[e.Contain=5]="Contain",e[e.NotContain=6]="NotContain"}(O||(O={})),function(e){e[e.None=0]="None",e[e.All=1]="All",e[e.Selected=2]="Selected"}($||($={})),function(e){e.Default="default",e.Verbose="verbose"}(N||(N={})),function(e){e[e.Feelgood=1]="Feelgood",e[e.TikTok=2]="TikTok",e[e.Lark=3]="Lark",e[e.Baike=4]="Baike",e[e.Aweme=5]="Aweme",e[e.Aweme2=6]="Aweme2",e[e.AILab=7]="AILab",e[e.People=8]="People"}(L||(L={})),function(e){e[e.ThankyouPanel=0]="ThankyouPanel",e[e.ToastMsg=1]="ToastMsg"}(M||(M={})),function(e){e[e.OnlyThankyouMessage=0]="OnlyThankyouMessage",e[e.ThankyouAndRedirectBtn=1]="ThankyouAndRedirectBtn",e[e.ThankyouAndAutoRedirect=2]="ThankyouAndAutoRedirect",e[e.None=3]="None"}(I||(I={})),function(e){e[e.No=0]="No",e[e.Yes=1]="Yes"}(B||(B={})),function(e){e[e.Disbale=0]="Disbale",e[e.Enable=1]="Enable"}(P||(P={})),function(e){e[e.DontLock=0]="DontLock",e[e.DontLockForm=1]="DontLockForm",e[e.LockWholePage=2]="LockWholePage"}(F||(F={})),function(e){e.ReportVersion="x-feelgood-api-version",e.ReportId="x-fg-report-id",e.TeaId="x-fg-tea-id",e.SlardarWebId="x-fg-slardar-id",e.DeviceId="x-fg-device-id",e.LoginSystem="x-fg-login-system"}(D||(D={})),function(e){e.None="0",e.BytedanceSSO="1"}(q||(q={})),function(e){e[e.Real=1]="Real",e[e.Virtual=2]="Virtual",e[e.Thankyou=3]="Thankyou"}(R||(R={})),function(e){e[e.Post=1]="Post",e[e.InstantShowCoupon=11]="InstantShowCoupon"}(z||(z={})),function(e){e.Displaying="displaying",e.Drawing="drawing",e.Result="result"}(W||(W={})),function(e){e.Twinkle="twinkle",e.Still="still",e.Disabled="disabled"}(V||(V={})),function(e){e[e.Thankyou=0]="Thankyou",e[e.Win=1]="Win",e[e.DuplicateDraw=2]="DuplicateDraw"}(Y||(Y={})),function(e){e[e.Success=1]="Success",e[e.DuplicateRegister=2]="DuplicateRegister",e[e.UncompleteInfo=3]="UncompleteInfo",e[e.WrongCaptcha=4]="WrongCaptcha",e[e.NoLeft=5]="NoLeft",e[e.FailAndRetry=6]="FailAndRetry"}(H||(H={})),function(e){e.Question="route-question",e.SuccessPage="route-success",e.LuckydrawRegister="route-luckydraw-register",e.LuckydrawResult="route-luckydraw-result"}(X||(X={})),function(e){e[e.None=0]="None",e[e.Phone=1]="Phone",e[e.Email=2]="Email"}(G||(G={}));var J,Q,U,Z,ee,te={Phone:/^\d{11}$/,Email:/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i};function ne(e,t){return e(t={exports:{}},t.exports),t.exports}!function(e){e[e.EveryTrue=0]="EveryTrue",e[e.AnyTrue=1]="AnyTrue",e[e.EveryFalse=2]="EveryFalse",e[e.AnyFalse=3]="AnyFalse"}(J||(J={})),function(e){e.Info="info",e.Success="success",e.Loading="loading"}(Q||(Q={})),function(e){e[e.OnlySelected=1]="OnlySelected",e[e.FromLowestToSelected=2]="FromLowestToSelected"}(U||(U={})),function(e){e[e.Center=1]="Center",e[e.Normal=2]="Normal",e[e.Hidden=3]="Hidden"}(Z||(Z={})),function(e){e[e.Normal=1]="Normal",e[e.Tick=2]="Tick"}(ee||(ee={}));for(var oe=ne((function(e,t){e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,o=e.HTMLElement||e.Element,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:o.prototype.scroll||s,scrollIntoView:o.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,i=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var n=d(this),o=n.getBoundingClientRect(),a=this.getBoundingClientRect();n!==t.body?(p.call(this,n,n.scrollLeft+a.left-o.left,n.scrollTop+a.top-o.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):e.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(e,t){return"Y"===t?e.clientHeight+i<e.scrollHeight:"X"===t?e.clientWidth+i<e.scrollWidth:void 0}function u(t,n){var o=e.getComputedStyle(t,null)["overflow"+n];return"auto"===o||"scroll"===o}function f(e){var t=c(e,"Y")&&u(e,"Y"),n=c(e,"X")&&u(e,"X");return t||n}function d(e){for(;e!==t.body&&!1===f(e);)e=e.parentNode||e.host;return e}function g(t){var n,o,r,i,s=(a()-t.startTime)/468;i=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*i)),o=t.startX+(t.x-t.startX)*n,r=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,o,r),o===t.x&&r===t.y||e.requestAnimationFrame(g.bind(e,t))}function p(n,o,i){var l,c,u,f,d=a();n===t.body?(l=e,c=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,f=r.scroll):(l=n,c=n.scrollLeft,u=n.scrollTop,f=s),g({scrollable:l,method:f,startTime:d,startX:c,startY:u,x:o,y:i})}}}})),re=(oe.polyfill,N.Default),ae={isProd:!0,appKey:"",channel:y.CN,taskIdBannerMapping:{},loggerLevel:re,jsBridge:void 0,colorScheme:"light"},ie=!1,se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info";return function(t){if(ie){if("debug"===e){if(ae.loggerLevel!==N.Verbose)return;"info"}}}},le={enable:()=>{ie=!0},error:se("error"),warn:se("warn"),info:se("info"),debug:se("debug")},ce=(ne((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}})),[]),ue=0;ue<256;++ue)ce[ue]=(ue+256).toString(16).substr(1);var fe=e=>{e&&((new Image).src=e)},de={[y.CN]:"".concat("https://lf1-cdn-tos.bytescm.com","/obj/cc-static/"),[y.SG]:"https://sf16-muse-va.ibytedtos.com/obj/cc-static-i18n/",[y.VA]:"https://sf16-muse-va.ibytedtos.com/obj/cc-static-i18n/",[y.IN]:"https://sf16-va.tiktokcdn-in.com/obj/cc-static-i18n-useast2a/"},ge={[y.CN]:"".concat("https://lf1-cdn-tos.bytescm.com","/obj/feelgood/"),[y.SG]:"https://sf-tk-sg.ibytedtos.com/obj/feelgood-sg/",[y.VA]:"https://sf-tk-sg.ibytedtos.com/obj/feelgood-sg/",[y.IN]:"https://sf16-va.tiktokcdn-in.com/obj/cc-static-i18n-useast2a/"},pe=(e,t)=>(ge[t]||le.warn("Invalid channel for static files: ".concat(t)),"".concat(ge[t]).concat(e));function me(e){var{channel:t}=ae;return de[t]||le.warn("Invalid channel for static files: ".concat(t)),"".concat(de[t]).concat(e)}var he=e=>e&&"object"==typeof e?Object.keys(e).map((t=>e[t])):[];function ye(e,t){if(!Array.isArray(e))return null;for(var n=e.length-1;n>=0;n-=1){var o=e[n];if(t(o,n))return o}return null}var ve=e=>JSON.stringify(e);function be(e){var t=new Map;return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=ve(o);if(!t.has(a)){var i=e(...o);t.set(a,i)}return t.get(a)}}var _e=(e,t)=>window.CSS&&window.CSS.supports(e,t),ke=()=>{var{userAgent:e,fgUserAgent:t=""}=navigator;return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((n=>e.match(n)||t.match(n)))},we={[L.TikTok]:"theme-tiktok",[L.Lark]:"theme-lark",[L.Aweme]:"theme-aweme",[L.Feelgood]:"theme-flgd",[L.Baike]:"theme-baike",[L.AILab]:"theme-ailab",[L.Aweme2]:"theme-aweme2",[L.People]:"theme-people"};function xe(){}const Se=e=>e;function Ae(e){return e()}function Te(){return Object.create(null)}function Ee(e){e.forEach(Ae)}function je(e){return"function"==typeof e}function Ce(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}const Oe="undefined"!=typeof window;let $e=Oe?()=>window.performance.now():()=>Date.now(),Ne=Oe?e=>requestAnimationFrame(e):xe;const Le=new Set;function Me(e){Le.forEach((t=>{t.c(e)||(Le.delete(t),t.f())})),0!==Le.size&&Ne(Me)}function Ie(e,t){e.appendChild(t)}function Be(e,t,n){e.insertBefore(t,n||null)}function Pe(e){e.parentNode.removeChild(e)}function Fe(e){return document.createElement(e)}function De(e){return document.createTextNode(e)}function qe(){return De(" ")}function Re(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ze(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function We(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function Ve(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const Ye=new Set;let He,Xe=0;function Ge(e,t,n,o,r,a,i,s=0){const l=16.666/o;let c="{\n";for(let h=0;h<=1;h+=l){const e=t+(n-t)*a(h);c+=100*h+`%{${i(e,1-e)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,d=e.ownerDocument;Ye.add(d);const g=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(Fe("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,g.insertRule(`@keyframes ${f} ${u}`,g.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${f} ${o}ms linear ${r}ms 1 both`,Xe+=1,f}function Ke(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),Xe-=r,Xe||Ne((()=>{Xe||(Ye.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),Ye.clear())})))}function Je(e){He=e}function Qe(){if(!He)throw new Error("Function called outside component initialization");return He}function Ue(e){Qe().$$.on_mount.push(e)}function Ze(e){Qe().$$.on_destroy.push(e)}function et(){const e=Qe();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=Ve(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const tt=[],nt=[],ot=[],rt=[],at=Promise.resolve();let it=!1;function st(e){ot.push(e)}let lt=!1;const ct=new Set;function ut(){if(!lt){lt=!0;do{for(let e=0;e<tt.length;e+=1){const t=tt[e];Je(t),ft(t.$$)}for(Je(null),tt.length=0;nt.length;)nt.pop()();for(let e=0;e<ot.length;e+=1){const t=ot[e];ct.has(t)||(ct.add(t),t())}ot.length=0}while(tt.length);for(;rt.length;)rt.pop()();it=!1,lt=!1,ct.clear()}}function ft(e){if(null!==e.fragment){e.update(),Ee(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(st)}}let dt;function gt(e,t,n){e.dispatchEvent(Ve(`${t?"intro":"outro"}${n}`))}const pt=new Set;let mt;function ht(){mt={r:0,c:[],p:mt}}function yt(){mt.r||Ee(mt.c),mt=mt.p}function vt(e,t){e&&e.i&&(pt.delete(e),e.i(t))}function bt(e,t,n,o){if(e&&e.o){if(pt.has(e))return;pt.add(e),mt.c.push((()=>{pt.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const _t={duration:0};function kt(e,t,n,o){let r=t(e,n),a=o?0:1,i=null,s=null,l=null;function c(){l&&Ke(e,l)}function u(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function f(t){const{delay:n=0,duration:o=300,easing:f=Se,tick:d=xe,css:g}=r||_t,p={start:$e()+n,b:t};t||(p.group=mt,mt.r+=1),i||s?s=p:(g&&(c(),l=Ge(e,a,t,o,n,f,g)),t&&d(0,1),i=u(p,o),st((()=>gt(e,t,"start"))),function(e){let t;0===Le.size&&Ne(Me),new Promise((n=>{Le.add(t={c:e,f:n})}))}((t=>{if(s&&t>s.start&&(i=u(s,o),s=null,gt(e,i.b,"start"),g&&(c(),l=Ge(e,a,i.b,i.duration,0,f,r.css))),i)if(t>=i.end)d(a=i.b,1-a),gt(e,i.b,"end"),s||(i.b?c():--i.group.r||Ee(i.group.c)),i=null;else if(t>=i.start){const e=t-i.start;a=i.a+i.d*f(e/i.duration),d(a,1-a)}return!(!i&&!s)})))}return{run(e){je(r)?(dt||(dt=Promise.resolve(),dt.then((()=>{dt=null}))),dt).then((()=>{r=r(),f(e)})):f(e)},end(){c(),i=s=null}}}function wt(e,t){-1===e.$$.dirty[0]&&(tt.push(e),it||(it=!0,at.then(ut)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xt(e,t,n,o,r,a,i=[-1]){const s=He;Je(e);const l=t.props||{},c=e.$$={fragment:null,ctx:null,props:a,update:xe,not_equal:r,bound:Te(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:Te(),dirty:i,skip_bound:!1};let u=!1;if(c.ctx=n?n(e,l,((t,n,...o)=>{const a=o.length?o[0]:n;return c.ctx&&r(c.ctx[t],c.ctx[t]=a)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](a),u&&wt(e,t)),n})):[],c.update(),u=!0,Ee(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(Pe)}else c.fragment&&c.fragment.c();t.intro&&vt(e.$$.fragment),function(e,t,n){const{fragment:o,on_mount:r,on_destroy:a,after_update:i}=e.$$;o&&o.m(t,n),st((()=>{const t=r.map(Ae).filter(je);a?a.push(...t):Ee(t),e.$$.on_mount=[]})),i.forEach(st)}(e,t.target,t.anchor),ut()}Je(s)}class St{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(Ee(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=xe}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function At(e){const t=e-1;return t*t*t+1}function Tt(e,{delay:t=0,duration:n=400,easing:o=Se}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*r}}function Et(e,{delay:t=0,duration:n=400,easing:o=At,x:r=0,y:a=0,opacity:i=0}){const s=getComputedStyle(e),l=+s.opacity,c="none"===s.transform?"":s.transform,u=l*(1-i);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*r}px, ${(1-e)*a}px);\n\t\t\topacity: ${l-u*t}`}}var jt='<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 48 48"><path fill-opacity=".01" fill="#FFF" fill-rule="evenodd" d="M0 0h48v48H0z"/><path d="M24 44a19.937 19.937 0 0 0 14.142-5.858A19.937 19.937 0 0 0 44 24a19.937 19.937 0 0 0-5.858-14.142A19.937 19.937 0 0 0 24 4 19.937 19.937 0 0 0 9.858 9.858 19.937 19.937 0 0 0 4 24a19.937 19.937 0 0 0 5.858 14.142A19.937 19.937 0 0 0 24 44z" stroke="#fff" stroke-width="4" fill="transparent" stroke-linejoin="round"/><g transform="matrix(1 0 0 -1 21 35)"><circle fill="#fff" cx="3" cy="21.5" r="2.5" fill-rule="evenodd"/><g stroke-linecap="round" stroke-linejoin="round" stroke-width="4" stroke="#fff" fill="none"><path d="M3.5 1v14h-2M0 1h7"/></g></g></svg>';function Ct(e){var t,n,o,r,a,i,s=e[0]&&e[0].length>0&&Ot(e);return{c(){t=Fe("div"),n=Fe("div"),o=Fe("span"),r=qe(),s&&s.c(),Re(o,"class","athena-form-toast__icon"),Re(n,"class","athena-form-toast__inner"),Re(t,"class",e[6])},m(a,l){Be(a,t,l),Ie(t,n),Ie(n,o),o.innerHTML=e[5],Ie(n,r),s&&s.m(n,null),i=!0},p(t,o){(e=t)[0]&&e[0].length>0?s?s.p(e,o):((s=Ot(e)).c(),s.m(n,null)):s&&(s.d(1),s=null)},i(n){i||(st((()=>{a||(a=kt(t,e[4],{duration:e[1]},!0)),a.run(1)})),i=!0)},o(n){a||(a=kt(t,e[4],{duration:e[1]},!1)),a.run(0),i=!1},d(e){e&&Pe(t),s&&s.d(),e&&a&&a.end()}}}function Ot(e){var t,n;return{c(){t=Fe("p"),n=De(e[0])},m(e,o){Be(e,t,o),Ie(t,n)},p(e,t){1&t&&ze(n,e[0])},d(e){e&&Pe(t)}}}function $t(e){var t,n,o=e[3]&&Ct(e);return{c(){t=Fe("div"),o&&o.c()},m(r,a){Be(r,t,a),o&&o.m(t,null),e[11](t),n=!0},p(e,n){var[r]=n;e[3]?o?(o.p(e,r),8&r&&vt(o,1)):((o=Ct(e)).c(),vt(o,1),o.m(t,null)):o&&(ht(),bt(o,1,1,(()=>{o=null})),yt())},i(e){n||(vt(o),n=!0)},o(e){bt(o),n=!1},d(n){n&&Pe(t),o&&o.d(),e[11](null)}}}function Nt(e,n,o){var r,a=et(),i=Tt,{content:s=""}=n,{type:l=Q.Info}=n,{duration:c=1600}=n,{transitionDuration:u=300}=n,{theme:f=L.Feelgood}=n,d=we[f],g=me("feelgood_toast_loading.png"),p={[Q.Info]:jt,[Q.Success]:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.331 11.195a.164.164 0 0 0 .003-.043l.001.015-.004.028zM12.006 24c-.645 0-1.294-.052-1.942-.158C3.534 22.775-.909 16.594.158 10.064 1.225 3.535 7.404-.907 13.935.156a11.97 11.97 0 0 1 5.98 2.822.798.798 0 0 1-1.054 1.197 10.373 10.373 0 0 0-5.184-2.445C8.017.806 2.658 4.66 1.733 10.321c-.926 5.662 2.928 11.022 8.589 11.946 5.661.926 11.02-2.928 11.945-8.59.133-.814.17-1.639.11-2.455a.797.797 0 1 1 1.59-.117c.07.94.028 1.891-.125 2.829C22.89 19.75 17.842 24 12.006 24zm-.149-7.551l-.116.116a.165.165 0 0 1 .233 0l-.117-.116zm10.587-11.5a.795.795 0 1 1 1.126 1.125L12.42 17.243a.795.795 0 0 1-1.127 0L5.36 11.299a.795.795 0 1 1 1.126-1.125l5.371 5.382L22.444 4.95z" fill="#fff"/></svg>',[Q.Loading]:"<img src='".concat(g,'\' width="24" height="24" alt="Loading"/>')}[l]||jt,m=!1,h=-1;Ue((()=>{o(3,m=!0);var e=c-u;e!==1/0&&(h=setTimeout(v,e))}));var y=["athena-form-toast",l,d].join(" "),v=()=>{o(3,m=!1),h=setTimeout((()=>{h=-1,a(t.destroy)}),u)};return Ze((()=>{h>0&&window.clearTimeout(h)})),e.$$set=e=>{"content"in e&&o(0,s=e.content),"type"in e&&o(7,l=e.type),"duration"in e&&o(8,c=e.duration),"transitionDuration"in e&&o(1,u=e.transitionDuration),"theme"in e&&o(9,f=e.theme)},[s,u,r,m,i,p,y,l,c,f,v,function(e){nt[e?"unshift":"push"]((()=>{o(2,r=e)}))}]}class Lt extends St{constructor(e){var t;super(),document.getElementById("svelte-1ia5wez-style")||((t=Fe("style")).id="svelte-1ia5wez-style",t.textContent="@keyframes loading-toast-rotate{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}.athena-form-toast{position:fixed;bottom:50%;left:0;right:0;color:white;font-size:14px;z-index:9001;height:0}.athena-form-toast.theme-lark{bottom:var(--feelgood-toast-bottom)}.athena-form-toast .athena-form-toast__inner{width:200px;margin:auto;background:rgba(0, 0, 0, 0.8);border-radius:5px;text-align:center;display:flex;flex-direction:column;align-items:center;padding:24px;transform:translateY(-50%)}.athena-form-toast .athena-form-toast__inner.theme-lark{font-family:PingFangSC-Medium sans-serif;font-weight:500;font-size:14px;line-height:20px;background:rgba(31, 35, 41, 0.9);box-shadow:0px 4px 8px rgba(31, 35, 41, 0.1);border-radius:40px;padding:10px 0}.athena-form-toast p{font-family:PingFang SC, sans-serif;margin:10px 0 0}.athena-form-toast.theme-baike .athena-form-toast__inner{box-sizing:border-box;width:fit-content;min-width:100px;padding:16px}.athena-form-toast.loading .athena-form-toast__icon img{animation:loading-toast-rotate linear 0.8s infinite}",Ie(document.head,t)),xt(this,e,Nt,$t,Ce,{content:0,type:7,duration:8,transitionDuration:1,theme:9,hide:10})}get hide(){return this.$$.ctx[10]}}function Mt(e){var t,n,o,r,a,i,s,l;return{c(){t=Fe("div"),n=Fe("div"),o=Fe("div"),r=Fe("span"),a=qe(),i=De(e[0]),We(r,"margin-right","6px"),We(r,"display","flex"),We(o,"display","flex"),We(o,"align-items","center"),Re(n,"class","athena-form-toast__inner theme-lark"),Re(t,"class","athena-form-toast theme-lark")},m(s,c){Be(s,t,c),Ie(t,n),Ie(n,o),Ie(o,r),r.innerHTML=e[4],Ie(o,a),Ie(o,i),l=!0},p(t,n){e=t,(!l||1&n)&&ze(i,e[0])},i(n){l||(st((()=>{s||(s=kt(t,e[5],{y:-50,duration:e[1]},!0)),s.run(1)})),l=!0)},o(n){s||(s=kt(t,e[5],{y:-50,duration:e[1]},!1)),s.run(0),l=!1},d(e){e&&Pe(t),e&&s&&s.end()}}}function It(e){var t,n,o=e[3]&&Mt(e);return{c(){t=Fe("div"),o&&o.c()},m(r,a){Be(r,t,a),o&&o.m(t,null),e[7](t),n=!0},p(e,n){var[r]=n;e[3]?o?(o.p(e,r),8&r&&vt(o,1)):((o=Mt(e)).c(),vt(o,1),o.m(t,null)):o&&(ht(),bt(o,1,1,(()=>{o=null})),yt())},i(e){n||(vt(o),n=!0)},o(e){bt(o),n=!1},d(n){n&&Pe(t),o&&o.d(),e[7](null)}}}function Bt(e,n,o){var r,a=et(),i=Et,{message:s=""}=n,{duration:l=1600}=n,{transitionDuration:c=300}=n,u=!1,f=-1;return Ue((()=>{o(3,u=!0),f=setTimeout((()=>{o(3,u=!1),f=setTimeout((()=>{f=-1,a(t.destroy)}),c)}),l-c)})),Ze((()=>{f>0&&window.clearTimeout(f)})),e.$$set=e=>{"message"in e&&o(0,s=e.message),"duration"in e&&o(6,l=e.duration),"transitionDuration"in e&&o(1,c=e.transitionDuration)},[s,c,r,u,'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 17.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15zm0 1.667A9.167 9.167 0 1 1 10 .833a9.167 9.167 0 0 1 0 18.334zM10 8.82l2.357-2.357 1.179 1.179L11.178 10l2.357 2.357-1.178 1.179L10 11.178l-2.357 2.357-1.179-1.179L8.821 10 6.464 7.643l1.179-1.179L10 8.821z" fill="#fff"/></svg>',i,l,function(e){nt[e?"unshift":"push"]((()=>{o(2,r=e)}))}]}class Pt extends St{constructor(e){var t;super(),document.getElementById("svelte-1ia5wez-style")||((t=Fe("style")).id="svelte-1ia5wez-style",t.textContent="@keyframes loading-toast-rotate{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}.athena-form-toast{position:fixed;bottom:50%;left:0;right:0;color:white;font-size:14px;z-index:9001;height:0}.athena-form-toast.theme-lark{bottom:var(--feelgood-toast-bottom)}.athena-form-toast .athena-form-toast__inner{width:200px;margin:auto;background:rgba(0, 0, 0, 0.8);border-radius:5px;text-align:center;display:flex;flex-direction:column;align-items:center;padding:24px;transform:translateY(-50%)}.athena-form-toast .athena-form-toast__inner.theme-lark{font-family:PingFangSC-Medium sans-serif;font-weight:500;font-size:14px;line-height:20px;background:rgba(31, 35, 41, 0.9);box-shadow:0px 4px 8px rgba(31, 35, 41, 0.1);border-radius:40px;padding:10px 0}.athena-form-toast p{font-family:PingFang SC, sans-serif;margin:10px 0 0}.athena-form-toast.theme-baike .athena-form-toast__inner{box-sizing:border-box;width:fit-content;min-width:100px;padding:16px}.athena-form-toast.loading .athena-form-toast__icon img{animation:loading-toast-rotate linear 0.8s infinite}",Ie(document.head,t)),xt(this,e,Bt,It,Ce,{message:0,duration:6,transitionDuration:1})}}var Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e)),document.head.appendChild(t)}},Dt=be((e=>{for(var t=Array.from(e.entries()).filter((e=>{var[,t]=e;return!t.pin})).map((e=>{var[t]=e;return t})),n=[...e],o=t.length-1;o>0;o-=1){var r=Math.floor(Math.random()*(o+1)),a=t[o],i=t[r];[n[a],n[i]]=[n[i],n[a]]}return n})),qt=(e,t)=>e?Object.keys(e).reduce(((n,o)=>{var{val:r,type:i="",screen_shot_url:s,screen_shot_xpath:l}=e[o]||{};if(null==r)return n;var c=ye(t,(e=>e.id===o||!!Array.isArray(e.sub_questions)&&e.sub_questions.some((e=>e.id===o)))),u=c&&c.parent_question_id?{[c.parent_question_id]:{type:a.MatrixSelect,val:{}},[o]:{type:i,val:r,screen_shot_url:s,screen_shot_xpath:l,parent_question_id:c.parent_question_id}}:{[o]:{type:i,screen_shot_url:s,screen_shot_xpath:l,val:r}};if("object"!=typeof r||Array.isArray(r))return Object.assign(Object.assign({},n),u);var{associations:f}=r;if(f){var d=Object.assign({},r);return delete d.associations,Object.assign(Object.assign(Object.assign({},n),{[o]:{type:i,val:d}}),qt(f,t))}return i===a.MatrixSelect?(he(r).forEach((e=>{e.parent_question_id=o})),Object.assign(Object.assign(Object.assign({},n),r),{[o]:{type:a.MatrixSelect,val:{}}})):Object.assign(Object.assign({},n),u)}),{}):{},Rt=e=>{var t={};return Object.entries(JSON.parse(JSON.stringify(e))).forEach((e=>{var[n,o]=e,r=Array.isArray(o.val)?o.val:[o.val];t[n]=r.map((e=>e.id?e.id:void 0!==e.rate?e.rate:e)).map((e=>e.toString()))})),t},zt=e=>e.map((e=>{var t=[e];return Array.isArray(e.sub_questions)&&(t=t.concat(e.sub_questions)),t})).flat(),Wt=(e,t)=>{var n=-1;return Array.isArray(e)&&"function"==typeof t&&e.some(((e,o)=>!!t(e)&&(n=o,!0))),n},Vt=e=>e?"athena-question-".concat(e):"",Yt=e=>e?"".concat(Vt(e),"__sticky-detector"):"",Ht=(e,t)=>{e.scrollTo({top:t,behavior:"smooth"})},Xt=e=>{var t=document.getElementById(Vt(e));if(t){var n=t.closest(".".concat(d.Form));if(n&&(n=n.querySelector(".athena-question-list")),n){var o=t.offsetTop-24+t.clientHeight/2-n.clientHeight/2;Ht(n,o)}}},Gt=e=>{var t,n=document.getElementById(Vt(e));if(n){var o=16;if(n.parentElement&&n.parentElement.classList.contains("athena-question-template__wrapper")){var r=null===(t=n.parentElement.parentElement)||void 0===t?void 0:t.getElementsByClassName("athena-question-template__title");r&&(o=r[0].clientHeight+16+24)}var a=document.documentElement,i=window.pageYOffset||document.documentElement.scrollTop,s=Math.max(0,n.getBoundingClientRect().top+i-o);Ht(a,s)}},Kt=e=>{var{extra_required:t}=e;return{id:Date.now().toString(),type:a.ShortAnswer,required:t?1:0}},Jt={get thankyouImg(){return me("thankyou.gif")},get thankyouImgLark(){return me("thankyou-lark.png")},get defaultEmojiForStar(){return me("rating-default-emoji.png")},get emojiMapping(){return{1:{selected:me("rating-emoji-1.png"),hover:me("rating-emoji-1.gif"),grey:me("rating-emoji-grey-1.png")},2:{selected:me("rating-emoji-2.png"),hover:me("rating-emoji-2.gif"),grey:me("rating-emoji-grey-2.png")},3:{selected:me("rating-emoji-3-v2.png"),hover:me("rating-emoji-3-v2.gif"),grey:me("rating-emoji-grey-3-v2.png")},4:{selected:me("rating-emoji-4.png"),hover:me("rating-emoji-4.gif"),grey:me("rating-emoji-grey-4.png")},5:{selected:me("rating-emoji-5-v1.png"),hover:me("rating-emoji-5-v2.gif"),grey:me("rating-emoji-grey-5.png")}}},get emojiMappingOfBaikeTheme(){return{1:{selected:me("rating-emoji-1-baike.png"),hover:me("rating-emoji-1-baike.png"),grey:me("rating-emoji-grey-1-baike.svg")},2:{selected:me("rating-emoji-2-baike.png"),hover:me("rating-emoji-2-baike.png"),grey:me("rating-emoji-grey-2-baike.svg")},3:{selected:me("rating-emoji-3-baike.png"),hover:me("rating-emoji-3-baike.png"),grey:me("rating-emoji-grey-3-baike.svg")},4:{selected:me("rating-emoji-4-baike.png"),hover:me("rating-emoji-4-baike.png"),grey:me("rating-emoji-grey-4-baike.svg")},5:{selected:me("rating-emoji-5-baike.png"),hover:me("rating-emoji-5-baike.png"),grey:me("rating-emoji-grey-5-baike.svg")}}},get emojiMappingOfAiLabTheme(){return{1:{selected:me("fg-rating-1-ailab.gif"),hover:me("fg-rating-1-ailab.gif"),grey:me("fg-rating-grey-ailab.png")},2:{selected:me("fg-rating-2-ailab.gif"),hover:me("fg-rating-2-ailab.gif"),grey:me("fg-rating-grey-ailab.png")},3:{selected:me("fg-rating-3-ailab.gif"),hover:me("fg-rating-3-ailab.gif"),grey:me("fg-rating-grey-ailab.png")},4:{selected:me("fg-rating-4-ailab.gif"),hover:me("fg-rating-4-ailab.gif"),grey:me("fg-rating-grey-ailab.png")},5:{selected:me("fg-rating-5-ailab.gif"),hover:me("fg-rating-5-ailab.gif"),grey:me("fg-rating-grey-ailab.png")}}}},Qt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.Feelgood;switch(t){case L.Baike:e=Jt.emojiMappingOfBaikeTheme;break;case L.AILab:e=Jt.emojiMappingOfAiLabTheme;break;case L.Feelgood:e=Jt.emojiMapping;break;default:e=void 0}e&&he(e).forEach((e=>Object.keys(e).forEach((t=>{"hover"===t&&ke()||"grey"===t&&_e("filter","grayscale(1)")||fe(e[t])})))),t===L.Lark?fe(Jt.thankyouImgLark):t===L.Feelgood&&(fe(Jt.thankyouImg),fe(Jt.defaultEmojiForStar))},Ut=be((e=>{var t="\n    @font-face {\n      font-family: DIN-Alternate-Bold;\n      src: url('".concat(pe("DIN-Alternate-Bold.ttf",e),"') format('truetype');\n    }\n    @font-face {\n      font-family: ClarityMono-SemiBold;\n      src: url('").concat(pe("ClarityMono-SemiBold.otf",e),"') format('opentype');\n    }\n    @font-face {\n      font-family: ProximaNova-Regular;\n      src: url('").concat(pe("ProximaNova-Regular.otf",e),"') format('opentype');\n    }\n    @font-face {\n      font-family: ProximaNova-Semibold;\n      src: url('").concat(pe("ProximaNova-Semibold.otf",e),"') format('opentype');\n    }\n    @font-face {\n      font-family: ProximaNova-Bold;\n      src: url('").concat(pe("ProximaNova-Bold.otf",e),"') format('opentype');\n    }\n  ");Ft(t)})),Zt=(e,t)=>{var n={};return Object.keys(e).forEach((o=>{t.includes(o)||(n[o]=e[o])})),n};function en(e,t){var{relationType:n,questions:o}=e,r=Object.keys(o).map((e=>{var n=t[e]||[];return function(e,t){var{relationType:n,answers:o}=e;switch(n){case J.EveryTrue:return o.every((e=>t.includes(e)));case J.AnyTrue:return o.some((e=>t.includes(e)));case J.EveryFalse:return t.length>0&&o.every((e=>!t.includes(e)));case J.AnyFalse:default:return t.length>0&&o.some((e=>!t.includes(e)))}}(o[e],n)}));switch(n){case J.EveryTrue:return r.every((e=>!!e));case J.AnyTrue:return r.some((e=>!!e));case J.EveryFalse:return r.every((e=>!e));case J.AnyFalse:default:return r.some((e=>!e))}}function tn(e,t,n,o){var r={};n.forEach(((e,t)=>{r[e]=t}));var a=Object.keys(e).sort(((e,t)=>r[e]-r[t])),i=Object.assign({},t);return a.filter((t=>{var n=en(e[t],i);return n||delete i[t],o(t,!n,i),!n}))}var nn=e=>{if(!Array.isArray(e))return[];var t=[],n=(e=>{var t={};return e.forEach((e=>{t[e.id]=e})),t})(e);return Object.values(n).forEach((e=>{Array.isArray(e.options)&&(e.options=e.options.map((t=>(Array.isArray(t.associations)&&(e.hasAssociation=!0,t.associations=t.associations.map((e=>{if("string"!=typeof e)return e;var t=e;return n[t]?(n[t].isAssociation=!0,n[t]):void 0})).filter((e=>e))),t)))),t.push(e)})),t.filter((e=>!e.isAssociation))},on=(e,t)=>{var n=Object.assign({},e),o=Object.keys(n),r=t.map((e=>e.id));return o.forEach((e=>{r.includes(e)||t.forEach((t=>{t.parent_question_id===e&&(n[t.id]=n[e]||{})}))})),n},rn=!1,an=()=>{rn||(oe.polyfill(),rn=!0)};function sn(e){if(e){var t=e.closest(".athena-question-list");if(t){var{top:n,bottom:o}=t.getBoundingClientRect(),{top:r,bottom:a}=e.getBoundingClientRect();(o<a||n>r)&&e.scrollIntoView(!1)}}}var ln,cn=e=>{return n=void 0,o=void 0,a=function*(){return new Promise((n=>{n((e=>{var{theme:n}=e,o=n===L.Lark?new Pt({target:document.body,props:{message:e.content}}):new Lt({target:document.body,props:e});return o.$on(t.destroy,(()=>{o.$destroy()})),o})(e))}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(n){t(n)}}function s(e){try{l(a.throw(e))}catch(n){t(n)}}function l(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(i,s)}l((a=a.apply(n,o||[])).next())}));var n,o,r,a},un=(e,t)=>{var n=[];return n=t.type===a.MatrixSelect?[...t.sub_questions.map((e=>e.id)),t.id]:t.parent_question_id&&!e.includes(t.parent_question_id)?[t.id,t.parent_question_id]:[t.id],[...e,...n]},fn=e=>e.reduce(un,[]),dn=(e,t)=>{var n={},o=Object.entries(e);if(o.length)return o.forEach((e=>{var[o,r]=e,i=ye(t,((e,t)=>e.id===o||t===Number(o)));if(i){var s=null;switch(i.type){case a.Rating:case a.TrueOrFalse:var l=r.val,c=ye(i.options,(e=>e.rate===l));c&&(s={type:i.type,val:{rate:l,content:c.content}});break;case a.SingleSelect:var u=r.val,f=ye(i.options,(e=>e.id===u));f&&(s={type:i.type,val:{id:u,content:f.content}});break;case a.MultiSelect:var d=r.val,g={type:i.type,val:[]};d.forEach((e=>{var t=ye(i.options,(t=>t.id===e));t&&g.val.push({id:e,content:t.content})})),g.val.length>0&&(s=g);break;case a.Scale:s={type:i.type,val:{rate:r.val,content:""}};break;case a.ShortAnswer:s={type:i.type,val:r.val};break;default:s=null}s&&(n[i.id]=s)}})),n},gn=(e,t)=>{var n={},o={},r=[];t.reduce(((e,t)=>e.concat([...t.sub_questions||[],t])),[]).forEach((e=>{[a.Rating,a.Scale,a.TrueOrFalse].includes(e.type)&&r.push(e.key),n[e.key]=e.id,e.options&&e.options.forEach((e=>{o[e.key]=e.id}))}));var i={};return Object.keys(e).forEach((t=>{var a=e[t],s={relationType:"number"==typeof a.relationType?a.relationType:a.relation_type,questions:{}};Object.keys(a.questions).forEach((e=>{var t=a.questions[e],i=r.includes(e),l=t.answers.slice();s.questions[n[e]]={answers:i?l:l.map((e=>o[e])),relationType:"number"==typeof t.relationType?t.relationType:t.relation_type}}));var l=n[t];i[l]=s})),i};!function(e){e[e.None=0]="None",e[e.CaptureOnly=1]="CaptureOnly",e[e.FinderOnly=2]="FinderOnly",e[e.ClipboardOnly=4]="ClipboardOnly",e[e.CaptureAndFinder=3]="CaptureAndFinder",e[e.CaptuerAndClipboard=5]="CaptuerAndClipboard",e[e.FinderAndClipboard=6]="FinderAndClipboard",e[e.All=7]="All"}(ln||(ln={}));export{E as DefaultLanguage,I as EnumAfterSubmitType,P as EnumBannerConfigType,j as EnumBehaviorEvent,x as EnumBlockButton,y as EnumChannel,o as EnumClientEnv,d as EnumCssClassName,z as EnumDeliverType,c as EnumDialogWidgetStyle,V as EnumDrawButtonState,Y as EnumDrawResultCode,$ as EnumExclusiveType,D as EnumFgHeader,a as EnumFormItemType,X as EnumFormRoute,r as EnumFormSvelteCtx,G as EnumInputRule,te as EnumInputRuleRegex,v as EnumLanguage,b as EnumLanguageDirection,N as EnumLoggerLevel,q as EnumLoginSystem,W as EnumLuckyDrawState,m as EnumOptionDisplayStyle,n as EnumPlatformEnv,H as EnumPrizeRegisterResult,R as EnumPrizeType,ee as EnumRadioButtonStyle,U as EnumRatingHighlightMode,Z as EnumRatingLabelStyle,g as EnumRatingStyle,ln as EnumScreenshotType,w as EnumShowBlockSurveyBtn,S as EnumSubmitBtnType,s as EnumSurveyTasksType,A as EnumSurveyType,h as EnumTaskReportEvent,T as EnumTaskStatus,M as EnumThankyouMsgType,L as EnumTheme,t as EnumToastEvt,Q as EnumToastType,p as EnumTrueFalseStyle,u as EnumWidgetEntryStyle,e as EnumWidgetEvt,i as EnumWidgetMode,f as EnumWidgetPosition,l as EnumWidgetType,B as EnumYesOrNo,F as LockPageScrollType,C as LogicExpressionTypes,O as RelationExpressionTypes,J as RelationType,_ as RequestBaseUrlMap,k as SurveyPageUrlMap,Ut as addFontRuleByChannel,tn as calcHiddenFormItems,Zt as excludeHiddenQuestionsAnswer,nn as extractFormItemList,qt as extractFormItemVal,Wt as findIndex,Rt as flattenFormItemVal,zt as flattenQuestions,Kt as getExtraInputConfig,Vt as getQuestionDomId,Yt as getQuestionStickyDetectorId,fn as getShowQuestions,K as i18nUILabels,Ft as insertCssRules,an as polyfillSmoothScroll,Qt as preloadImages,on as processMatrixQuestionRelations,sn as scrollElementIntoViewIfNeeded,Xt as scrollToQuestion,Gt as scrollToQuestionInStandalone,Dt as shufflePinalbleArray,Ht as smoothScrollTo,Jt as staticImages,cn as toastMessage,dn as transformPrefillToFormModel,gn as transformQuestionRelations};
